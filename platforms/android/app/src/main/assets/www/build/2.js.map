{"version":3,"sources":["../../src/pages/select-location/select-location.module.ts","../../src/pages/select-location/select-location.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SelectLocationPage } from './select-location';\n\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  declarations: [\n    SelectLocationPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SelectLocationPage),\n    TranslateModule,\n  ],\n})\nexport class SelectLocationPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/select-location/select-location.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Events, ViewController, Platform, ToastController } from 'ionic-angular';\n\nimport { TranslateService } from '@ngx-translate/core';\n\nimport {ApiProvider} from \"../../service/api/api\";\n\ndeclare var google;\n@IonicPage()\n@Component({\n  selector: 'page-select-location',\n  templateUrl: 'select-location.html',\n})\nexport class SelectLocationPage {\n  @ViewChild('map') mapElement\n  map: any;\n  model:any={address:\"\", lang:\"\",lat: \"\",lng:\"\",user_id: \"\"}\n  user_id;\n  lating;\n  luging;\n  constructor(\n    public navCtrl      : NavController, \n    public navParams    : NavParams,\n    public event        : Events,\n    public plt          : Platform,\n    public viewCtrl     : ViewController,\n    public translate    : TranslateService,\n    public api          : ApiProvider,\n    public toastCtrl    : ToastController) {\n\n      \n\n  }\n\n  ionViewDidLoad() {\n\n    this.user_id          = JSON.parse(localStorage.getItem('hdaaeq_user_Data'));\n    this.model.user_id    = this.user_id.id;\n    this.model.lang       = this.translate.currentLang;\n    \n    this.initMap();\n\n    this.lating = JSON.parse(localStorage.getItem('hdaaeq_map_user_lat')); \n\n    this.luging = JSON.parse(localStorage.getItem('hdaaeq_map_user_lng'));\n\n  }\n\n  // initMap(){\n\n  //   this.plt.ready().then(() => {\n        \n  //       //get address from lat and lng\n  //       var geocoder  = new google.maps.Geocoder();            \n  //       var locations  = new google.maps.LatLng(localStorage.getItem('hdaaeq_map_user_lat'),\n  //       localStorage.getItem('hdaaeq_map_user_lng'));\n  //       localStorage.setItem('hdaaeq_user_map_lat',localStorage.getItem('hdaaeq_map_user_lat'))\n  //       localStorage.setItem('hdaaeq_user_map_lng',localStorage.getItem('hdaaeq_map_user_lng'))\n  //       geocoder.geocode({'latLng': locations}, (results, status) =>{\n  //         if(status == google.maps.GeocoderStatus.OK) {\n  //           var add=results[0].formatted_address;\n  //           localStorage.setItem('hdaaeq_map_user_address',add)\n  //           this.event.publish('hdaaeq_user_address_done')\n  //         }\n  //       });\n\n  //       this.model.city = localStorage.getItem('hdaaeq_map_user_address')\n\n  //       //show map\n  //       var crosshairShape = {coords:[0,0,0,0],type:'rect'};\n  //       const location = new google.maps.LatLng(localStorage.getItem('hdaaeq_map_user_lat'),\n  //       localStorage.getItem('hdaaeq_map_user_lng'));\n  //       const options = google.maps.MapOptions = {\n  //         center: {lat: 30.0596185, lng: 31.1884236},\n  //         zoom: 13,\n  //       }\n  //       this.map = new google.maps.Map(this.mapElement.nativeElement,options);\n        \n  //       //end of show map\n\n  //       //marker\n  //       var marker = new google.maps.Marker({\n  //         position: location,\n  //         draggable: true,\n  //         icon: 'assets/imgs/map.png',\n  //         animation: 'DROP',\n  //         shape: crosshairShape\n  //       });\n  //       marker.setMap(this.map);\n  //       marker.bindTo('position', this.map, 'center'); // floating marker\n\n  //         //get lat lng when moveing map\n  //         google.maps.event.addListener(this.map, 'center_changed', () => {\n  //         var location = this.map.getCenter();\n  //         this.model.lat = location.lat();\n  //         this.model.lng = location.lng();\n  //         //get address from lat and lng\n  //         var geocoder  = new google.maps.Geocoder();            \n  //         var locations  = new google.maps.LatLng(location.lat(), location.lng());\n  //         geocoder.geocode({'latLng': locations}, (results, status)=> {\n  //           if(status == google.maps.GeocoderStatus.OK) {         \n  //             var add=results[0].formatted_address;\n  //             this.model.address = add;\n  //             this.event.publish('hdaaeq_user_address_done')\n  //           }\n  //         })\n  //       });\n      \n  //   })\n  // }\n\n  initMap(){\n\n    var uluru = {lat:this.lating, lng: this.luging};\n    var map = new google.maps.Map(document.getElementById('map'), {\n    zoom: 18,\n    center: uluru,\n    mapTypeId: google.maps.MapTypeId.roadmap, scaleControl: true,\n    });\n\n\n    var input = document.getElementById('search');\n    map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);\n\n    var contentString =\n    '<div id=\"content\">'+\n    '<p></p>'+\n    '</div>';\n\n    var infowindow = new google.maps.InfoWindow({\n    content: contentString\n    });\n    var image = 'assets/imgs/map.png';\n\n\n    var marker = new google.maps.Marker({\n    position: {lat: this.lating, lng: this.luging},\n    map: map,\n    draggable: true,\n    animation: google.maps.Animation.DROP,\n    title: 'Hello site',\n    icon: image,\n    label: {\n    color: 'white',\n    fontSize: '12px'\n    }\n    });\n\n\n    var google_maps_geocoder = new google.maps.Geocoder();\n    google_maps_geocoder.geocode(\n    {'latLng': marker.getPosition()},\n    ( results, status) => {\n    if (results[0]){\n      var add = results[0].formatted_address;\n      localStorage.setItem('hdaaeq_map_Provider_address',JSON.stringify(add))\n    }\n\n    }\n    );\n\n\n    var geocoder = new google.maps.Geocoder();\n\n    google.maps.event.addListener(marker, 'dragend', function() {\n\n    geocoder.geocode({'latLng': marker.getPosition()}, function(results, status) {\n    if (status == google.maps.GeocoderStatus.OK) {\n    if (results[0]) {\n    var add = results[0].formatted_address;\n    localStorage.setItem('hdaaeq_map_Provider_address',JSON.stringify(add))\n    infowindow.setContent(results[0].formatted_address);\n    infowindow.open(map, marker);\n    }\n    }\n    }.bind(this));\n    }.bind(this));\n\n  }\n\n  dismiss() {\n    this.api.editprofile(this.model).subscribe(\n      response =>  {\n\n        const toast = this.toastCtrl.create({\n        message: response.message,\n        duration: 3000\n        });\n        toast.present();\n        if(response.key == \"1\"){\n          // localStorage.setItem('hdaaeq_user_Data',JSON.stringify(response.data));\n          this.navCtrl.push(\"EditProfilePage\");\n        }else if(response.key == \"3\"){\n          this.navCtrl.push(\"LoginPage\");\n        }\n    }, error =>{\n      // loading.dismiss();\n    },()=>{\n      // loading.dismiss();\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/select-location/select-location.ts"],"sourceRoot":""}