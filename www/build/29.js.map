{"version":3,"sources":["../../src/pages/change-password/change-password.module.ts","../../src/pages/change-password/change-password.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACO;AACO;AAED;AAWtD;IAAA;IAAuC,CAAC;IAA3B,wBAAwB;QATpC,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,4EAAkB;aACnB;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,4EAAkB,CAAC;gBAC5C,4EAAe;aAChB;SACF,CAAC;OACW,wBAAwB,CAAG;IAAD,+BAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;ACfK;AACoE;AAE5C;AAChB;AACK;AAOvD;IAKE,4BACS,OAA8B,EAC9B,SAA0B,EAC1B,WAAkC,EAClC,WAA4B,EAC5B,GAA4B,EAC5B,SAAgC,EAChC,SAAgC,EAC/B,SAAgC;QAPjC,YAAO,GAAP,OAAO,CAAuB;QAC9B,cAAS,GAAT,SAAS,CAAiB;QAC1B,gBAAW,GAAX,WAAW,CAAuB;QAClC,gBAAW,GAAX,WAAW,CAAiB;QAC5B,QAAG,GAAH,GAAG,CAAyB;QAC5B,cAAS,GAAT,SAAS,CAAuB;QAChC,cAAS,GAAT,SAAS,CAAuB;QAC/B,cAAS,GAAT,SAAS,CAAuB;QAEtC,IAAI,CAAC,cAAc,GAAoB,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YAC5D,YAAY,EAAyB,CAAC,EAAE,CAAC;YACzC,YAAY,EAAyB,CAAC,EAAE,EAAE,kEAAU,CAAC,OAAO,CAAC,CAAC,kEAAU,CAAC,SAAS,CAAC,CAAC,CAAC,EAAC,kEAAU,CAAC,QAAQ,CAAC,CAAC,CAAC;YAC5G,gBAAgB,EAAqB,CAAC,EAAE,EAAE,kEAAU,CAAC,QAAQ,CAAC;YAC9D,OAAO,EAA8B,EAAE;YACvC,IAAI,EAAiC,EAAE;SACxC,EACD;YACE,SAAS,EAAE,IAAI,CAAC,iBAAiB,CAAC,cAAc,EAAE,kBAAkB,CAAC;SACtE,CAAC,CAAC;QAGH,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,kBAAkB,CAAC,CAAC,CAAC;QACjE,IAAI,CAAC,OAAO,GAAI,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC;QAC7B,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QAC/D,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;IAE9E,CAAC;IAED,2CAAc,GAAd;QACE,OAAO,CAAC,GAAG,CAAC,mCAAmC,CAAC,CAAC;IACnD,CAAC;IAED,sCAAS,GAAT;QAAA,iBAwCC;QAtCC,IAAI,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;YACpC,OAAO,EAAE,MAAM;YACf,OAAO,EAAE,kCAAkC;SAC5C,CAAC,CAAC;QACH,OAAO,CAAC,OAAO,EAAE,CAAC;QAElB,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,SAAS,CACxD,kBAAQ;YACN,IAAI,OAAO,GAAO,CAAC,KAAI,CAAC,SAAS,CAAC,WAAW,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,yGAAyG,CAAG,CAAC,CAAC,wGAAwG,CAAC;YAChR,IAAI,IAAI,GAAU,CAAC,KAAI,CAAC,SAAS,CAAC,WAAW,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,oBAAoB,CAAgB,CAAC,CAAC,oBAAoB;YACnH,IAAM,KAAK,GAAO,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBACxC,OAAO,EAAE,QAAQ,CAAC,OAAO;gBACzB,QAAQ,EAAE,IAAI;aACb,CAAC,CAAC;YACH,KAAK,CAAC,OAAO,EAAE,CAAC;YAChB,EAAE,EAAC,QAAQ,CAAC,GAAG,IAAI,GAAG,CAAC,EAAC;gBACtB,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;YACnC,CAAC;YAAA,IAAI,CAAC,EAAE,CAAC,CAAC,QAAQ,CAAC,GAAG,IAAI,GAAG,CAAC,CAAC,CAAC;gBAC9B,IAAM,SAAO,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC;oBACpC,OAAO,EAAE,OAAO;oBAChB,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,IAAI;4BACV,QAAQ,EAAE,QAAQ;4BAClB,OAAO,EAAE;gCACP,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;4BACjC,CAAC;yBACF;qBACF;iBACF,CAAC,CAAC;gBACH,SAAO,CAAC,OAAO,EAAE,CAAC;YACpB,CAAC;QACL,CAAC,EAAE,eAAK;YACN,OAAO,CAAC,OAAO,EAAE,CAAC;QACpB,CAAC,EAAC;YACA,OAAO,CAAC,OAAO,EAAE,CAAC;QACpB,CAAC,CAAC,CAAC;IAEL,CAAC;IAED,8CAAiB,GAAjB,UAAkB,WAAmB,EAAE,kBAA0B;QAC/D,MAAM,CAAC,UAAC,KAAgB;YACtB,IAAI,YAAY,GAAG,KAAK,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;YAC/C,IAAI,gBAAgB,GAAG,KAAK,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC;YAE1D,EAAE,CAAC,CAAC,YAAY,CAAC,KAAK,KAAK,gBAAgB,CAAC,KAAK,CAAC,CAAC,CAAC;gBAClD,MAAM,CAAC;oBACL,mBAAmB,EAAE,IAAI;iBAC1B,CAAC;YACJ,CAAC;QACH,CAAC;IACH,CAAC;IA3FU,kBAAkB;QAJ9B,wEAAS,CAAC;YACT,QAAQ,EAAE,sBAAsB;WACG;SACpC,CAAC;6EAOuC;YACb,wEAAS;YACT,oEAAiB;YACjB,qEAAW;YACX,sEAAW;YACX,sEAAe;YACf,6EAAe;YACf,eAAgB;OAb/B,kBAAkB,CA6F9B;IAAD,CAAC;AAAA;SA7FY,kBAAkB,gB","file":"29.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ChangePasswordPage } from './change-password';\n\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  declarations: [\n    ChangePasswordPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ChangePasswordPage),\n    TranslateModule,\n  ],\n})\nexport class ChangePasswordPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/change-password/change-password.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, ToastController, AlertController } from 'ionic-angular';\n\nimport {FormBuilder, FormGroup, Validators} from \"@angular/forms\";\nimport {ApiProvider} from \"../../service/api/api\";\nimport { TranslateService } from '@ngx-translate/core';\n\n@IonicPage()\n@Component({\n  selector: 'page-change-password',\n  templateUrl: 'change-password.html',\n})\nexport class ChangePasswordPage {\n  \n  updatePassword: FormGroup;\n  user;\n  user_id;\n  constructor(\n    public navCtrl        : NavController, \n    public navParams      : NavParams,\n    public loadingCtrl    : LoadingController,\n    public formBuilder    : FormBuilder,\n    public api            : ApiProvider,\n    public toastCtrl      : ToastController,\n    public alertCtrl      : AlertController,\n    private translate     : TranslateService,) {\n\n      this.updatePassword             =      this.formBuilder.group({\n        old_password                  :      [''],\n        new_password                  :      ['', Validators.compose([Validators.minLength(6),Validators.required])],\n        confirm_Password              :      ['', Validators.required],\n        user_id                       :      [],\n        lang                          :      [],\n      }, \n      {\n        validator: this.matchingPasswords('new_password', 'confirm_Password')\n      });\n\n\n      this.user = JSON.parse(localStorage.getItem('hdaaeq_user_Data'));\n      this.user_id =  this.user.id;\n      this.updatePassword.controls['user_id'].setValue(this.user.id);\n      this.updatePassword.controls['lang'].setValue(this.translate.currentLang);\n\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ChangePasswordPage');\n  }\n\n  goSetting(){\n\n    let loading = this.loadingCtrl.create({\n      spinner: 'hide',\n      content: '<img src=\"assets/imgs/logo.png\">'\n    });\n    loading.present();\n\n    this.api.editPassword(this.updatePassword.value).subscribe(\n      response => {\n        var message     = (this.translate.currentLang == 'en') ? '<img src=\"assets/imgs/block-user.png\" class=\"img_alert animated shake\"> Sorry This User Has Been Warned'   : '<img src=\"assets/imgs/block-user.png\" class=\"img_alert animated shake\"> عذراََ لقد تم حذر هذا المستخدم';\n        var Done        = (this.translate.currentLang == 'en') ? 'Go To The Register'                : 'الذهاب إلى التسجيل'\n        const toast     = this.toastCtrl.create({\n        message: response.message,\n        duration: 3000\n        });\n        toast.present();\n        if(response.key == \"1\"){\n          this.navCtrl.push(\"SettingPage\");  \n        }else if (response.key == \"3\") {\n          const confirm = this.alertCtrl.create({\n            message: message,\n            buttons: [\n              {\n                text: Done,\n                cssClass: 'BtnCss',\n                handler: () => {\n                  this.navCtrl.push(\"LoginPage\");\n                }\n              },\n            ]\n          });\n          confirm.present();\n        }\n    }, error =>{\n      loading.dismiss();\n    },()=>{\n      loading.dismiss();\n    });\n\n  }\n\n  matchingPasswords(passwordKey: string, confirmPasswordKey: string) {\n    return (group: FormGroup): {[key: string]: any} => {\n      let new_password = group.controls[passwordKey];\n      let confirm_Password = group.controls[confirmPasswordKey];\n\n      if (new_password.value !== confirm_Password.value) {\n        return {\n          mismatchedPasswords: true\n        };\n      }\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/change-password/change-password.ts"],"sourceRoot":""}