{"version":3,"sources":["../../src/pages/map/map.module.ts","../../src/pages/map/map.ts"],"names":[],"mappings":"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","file":"10.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { MapPage } from './map';\n\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  declarations: [\n    MapPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(MapPage),\n    TranslateModule,\n  ],\n})\nexport class MapPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/map/map.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController, Platform, Events } from 'ionic-angular';\n\ndeclare var google;\n@IonicPage()\n@Component({\n  selector: 'page-map',\n  templateUrl: 'map.html',\n})\nexport class MapPage {\n  @ViewChild('map') mapElement\n  map: any;\n  constructor(\n    public navCtrl      : NavController, \n    public navParams    : NavParams,\n    public event        : Events,\n    public plt          : Platform,\n    public viewCtrl     : ViewController) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad MapPage');\n    this.initMap();\n  }\n\n  initMap(){\n\n    this.plt.ready().then(() => {\n        \n        //get address from lat and lng\n        var geocoder  = new google.maps.Geocoder();            \n        var locations  = new google.maps.LatLng(localStorage.getItem('hdaaeq_user_default_lat'),\n        localStorage.getItem('hdaaeq_user_default_lng'));\n        localStorage.setItem('hdaaeq_user_map_lat',localStorage.getItem('hdaaeq_user_default_lat'))\n        localStorage.setItem('hdaaeq_user_map_lng',localStorage.getItem('hdaaeq_user_default_lng'))\n        geocoder.geocode({'latLng': locations}, (results, status) =>{\n          if(status == google.maps.GeocoderStatus.OK) {         \n            var add=results[0].formatted_address;\n            localStorage.setItem('hdaaeq_user_map_address',add)\n            this.event.publish('hdaaeq_user_address_done')\n          }\n        })\n\n        //show map\n        var crosshairShape = {coords:[0,0,0,0],type:'rect'}; // floating marker\n        const location = new google.maps.LatLng(localStorage.getItem('hdaaeq_user_default_lat'),localStorage.getItem('hdaaeq_user_default_lng'));\n        const options = google.maps.MapOptions = {\n          center: {lat: 30.0596185, lng: 31.1884236},\n          zoom: 13,\n        }\n        this.map = new google.maps.Map(this.mapElement.nativeElement,options);\n        \n        //end of show map\n\n        //marker\n        var marker = new google.maps.Marker({\n          position: location,\n          draggable: true,\n          icon: 'assets/imgs/map.png',\n          animation: 'DROP',\n          shape: crosshairShape\n        });\n        marker.setMap(this.map);\n        marker.bindTo('position', this.map, 'center'); // floating marker\n\n          //get lat lng when moveing map\n          google.maps.event.addListener(this.map, 'center_changed', () => {\n          var location = this.map.getCenter();\n          localStorage.setItem('hdaaeq_user_map_lat',location.lat())\n          localStorage.setItem('hdaaeq_user_map_lng',location.lng())\n          //get address from lat and lng\n          var geocoder  = new google.maps.Geocoder();            \n          var locations  = new google.maps.LatLng(location.lat(), location.lng());\n          geocoder.geocode({'latLng': locations}, (results, status)=> {\n            if(status == google.maps.GeocoderStatus.OK) {         \n              var add=results[0].formatted_address;\n              localStorage.setItem('hdaaeq_user_map_address',add)\n              this.event.publish('hdaaeq_user_address_done')\n            }\n          })\n        });\n      \n    })\n  }\n\n  goDone(){\n    this.navCtrl.push(\"DonePage\");\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/map/map.ts"],"sourceRoot":""}