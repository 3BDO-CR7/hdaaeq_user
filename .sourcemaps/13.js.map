{"version":3,"sources":["../../src/pages/location/location.module.ts","../../src/pages/location/location.ts"],"names":[],"mappings":"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","file":"13.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { LocationPage } from './location';\n\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  declarations: [\n    LocationPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(LocationPage),\n    TranslateModule,\n  ],\n})\nexport class LocationPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/location/location.module.ts","import { Component, ElementRef, ViewChild } from '@angular/core';\nimport { Platform, Events, IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\n\nimport { Geolocation } from '@ionic-native/geolocation';\n\ndeclare var google;\n@IonicPage()\n@Component({\n  selector: 'page-location',\n  templateUrl: 'location.html',\n})\nexport class LocationPage {\n  @ViewChild('map') mapElement\n  map: any;\n  model:any={city:\"\"}\n  lat;\n  lng;\n  user;\n  latout : any = 24.774265;\n  lngout : any = 46.738586;\n  constructor(\n    public navCtrl       : NavController, \n    public navParams     : NavParams,\n    public event         : Events,\n    public plt           : Platform,\n    public viewCtrl      : ViewController,\n    private geolocation  : Geolocation) {\n\n      \n  }\n\n  ionViewWillEnter(){\n\n      localStorage.setItem('hdaaeq_map_user_lat',this.latout)\n      localStorage.setItem('hdaaeq_map_user_lng',this.lngout)\n\n    this.geolocation.getCurrentPosition().then((resp) => {\n\n      setTimeout(() => {\n        this.initMap();\n      }, 2000);\n\n      this.latout   =  resp.coords.latitude;\n      this.lngout   =  resp.coords.longitude;\n      \n    }).catch((error) => {\n      this.initMap();\n    });\n\n    this.user    = JSON.parse(localStorage.getItem('hdaaeq_user_Data'));\n\n    if(this.user == null)\n    {\n        this.lat = this.latout;\n        this.lng = this.lngout;\n    }else{\n        this.lat = JSON.parse(localStorage.getItem(\"hdaaeq_map_user_lat\"));\n        this.lng = JSON.parse(localStorage.getItem(\"hdaaeq_map_user_lng\"))\n    }\n\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad LocationPage');\n    this.initMap();\n  }\n\n  initMap(){\n\n    var uluru = {lat:this.latout, lng: this.lngout};\n    var map = new google.maps.Map(document.getElementById('map'), {\n    zoom: 18,\n    center: uluru,\n    mapTypeId: google.maps.MapTypeId.roadmap, scaleControl: true,\n    });\n\n\n    var input = document.getElementById('search');\n    map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);\n\n    var contentString =\n    '<div id=\"content\">'+\n    '<p></p>'+\n    '</div>';\n\n    var infowindow = new google.maps.InfoWindow({\n    content: contentString\n    });\n    var image = 'assets/imgs/map.png';\n\n\n    var marker = new google.maps.Marker({\n    position: {lat: this.latout, lng: this.lngout},\n    map: map,\n    draggable: true,\n    animation: google.maps.Animation.DROP,\n    title: 'Hello site',\n    icon: image,\n    label: {\n    color: 'white',\n    fontSize: '12px'\n    }\n    });\n\n\n    var google_maps_geocoder = new google.maps.Geocoder();\n    google_maps_geocoder.geocode(\n    {'latLng': marker.getPosition()},\n    ( results, status) => {\n    if (results[0]){\n      var add = results[0].formatted_address;\n      localStorage.setItem('hdaaeq_map_user_address',JSON.stringify(add))\n    }\n\n    }\n    );\n\n\n    var geocoder = new google.maps.Geocoder();\n\n    google.maps.event.addListener(marker, 'dragend', function() {\n\n    geocoder.geocode({'latLng': marker.getPosition()}, function(results, status) {\n    if (status == google.maps.GeocoderStatus.OK) {\n    if (results[0]) {\n    var add = results[0].formatted_address;\n    localStorage.setItem('hdaaeq_map_user_address',JSON.stringify(add))\n    infowindow.setContent(results[0].formatted_address);\n    infowindow.open(map, marker);\n    }\n    }\n    }.bind(this));\n    }.bind(this));\n\n  }\n\n  dismiss() {\n    let data = this.model.city\n    this.viewCtrl.dismiss(data);\n    console.log(data);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/location/location.ts"],"sourceRoot":""}